.TH sntp 1sntpman "30 Aug 2012" "4.2.7p296" "User Commands"
.\"
.\"  EDIT THIS FILE WITH CAUTION  (sntp-opts.man)
.\"  
.\"  It has been AutoGen-ed  August 30, 2012 at 11:42:07 PM by AutoGen 5.16.2
.\"  From the definitions    sntp-opts.def
.\"  and the template file   agman-cmd.tpl
.\"
.SH NAME
sntp \- standard Simple Network Time Protocol client program
.SH SYNOPSIS
.B sntp
.\" Mixture of short (flag) options and long options
.RB [ \-IflagP " [IvalueP]]... [" \-\-Iopt\-nameP " [[=| ]IvalueP]]..." [ hostname-or-IP ...]
.PP
.SH DESCRIPTION
.SH "OPTIONS"
.TP
.BR \-4 ", " -\-ipv4
Force IPv4 DNS name resolution.
This option must not appear in combination with any of the following options:
ipv6.
.sp
Force DNS resolution of the following host names on the command line
to the IPv4 namespace.
.TP
.BR \-6 ", " -\-ipv6
Force IPv6 DNS name resolution.
This option must not appear in combination with any of the following options:
ipv4.
.sp
Force DNS resolution of the following host names on the command line
to the IPv6 namespace.
.TP
.BR \-a " Iauth\-keynumberP, " \-\-authentication "=" Iauth\-keynumberP
Enable authentication with the key Bauth-keynumberP.
This option takes an integer number as its argument.
.sp
This option enables authentication using the key specified in this
option's argument.  The argument of this option is the keyid, a
number specified in the keyfile as this key's identifier. See the
keyfile option (B-kP) for more details.
.TP
.BR \-B " IsecondsP, " \-\-bctimeout "=" IsecondsP
The number of seconds to wait for broadcasts.
This option takes an integer number as its argument.
The default IsecondsP for this option is:
.ti +4
 68
.sp
When waiting for a broadcast packet BsntpP will wait the number
of seconds specified before giving up.
.TP
.BR \-b " Ibroadcast\-addressP, " \-\-broadcast "=" Ibroadcast\-addressP
Listen to the address specified for broadcast time sync.
This option may appear an unlimited number of times.
.sp
If specified BsntpP will listen to the specified address
for NTP broadcasts.  The default maximum wait time
can be modified with B-BP.
.TP
.BR \-c " Ihost\-nameP, " \-\-concurrent "=" Ihost\-nameP
Concurrently query all IPs returned for host-name.
This option may appear an unlimited number of times.
.sp
Requests from an NTP "client" to a "server" should never be sent
more rapidly than one every 2 seconds.  By default, any IPs returned
as part of a DNS lookup are assumed to be for a single instance of
ntpd, and therefore BsntpP will send queries to these IPs one
after another, with a 2-second gap in between each query.
The B-cP or B--concurrentP flag says that any IPs
returned for the DNS lookup of the supplied host-name are on
different machines, so we can send concurrent queries.
.TP
.BR \-d ", " -\-debug\-level
Increase debug verbosity level.
This option may appear an unlimited number of times.
.sp
.TP
.BR \-D " IstringP, " \-\-set\-debug\-level "=" IstringP
Set the debug verbosity level.
This option may appear an unlimited number of times.
.sp
.TP
.BR \-g " ImillisecondsP, " \-\-gap "=" ImillisecondsP
The gap (in milliseconds) between time requests.
This option takes an integer number as its argument.
The default ImillisecondsP for this option is:
.ti +4
 50
.sp
Since we're only going to use the first valid response we get and
there is benefit to specifying a good number of servers to query,
separate the queries we send out by the specified number of
milliseconds.
.TP
.BR \-K " Ifile\-nameP, " \-\-kod "=" Ifile\-nameP
KoD history filename.
The default Ifile\-nameP for this option is:
.ti +4
 /var/db/ntp-kod
.sp
Specifies the filename to be used for the persistent history of KoD
responses received from servers.
.TP
.BR \-k " Ifile\-nameP, " \-\-keyfile "=" Ifile\-nameP
Look in this file for the key specified with B-aP.
.sp
This option specifies the keyfile.
BsntpP will search for the key specified with B-aP
IkeynoP in this file.  Key files follow the following format:
Ikeyid keytype keyP
Where	IkeyidP is a number identifying this key
IkeytypeP is one of the following:
BSP  Key is a 64 Bit hexadecimal number as specified in in the DES specification.
BNP  Key is a 64 Bit hexadecimal number as specified in the NTP standard.
BAP  Key is a 1-to-8 character ASCII string.
BMP  Key is a 1-to-8 character ASCII string using the MD5 authentication scheme.
For more information see Bntp.keys(5)P.
.TP
.BR \-l " Ifile\-nameP, " \-\-logfile "=" Ifile\-nameP
Log to specified logfile.
.sp
This option causes the client to write log messages to the specified
IlogfileP.
.TP
.BR \-M " InumberP, " \-\-steplimit "=" InumberP
Adjustments less than BsteplimitP msec will be slewed.
This option takes an integer number as its argument.
The value of InumberP is constrained to being:
.in +4
.nf
.na
greater than or equal to 0
.fi
.in -4
.sp
If the time adjustment is less than IsteplimitP milliseconds,
slew the amount using Badjtime(2)P.  Otherwise, step the
correction using Bsettimeofday(2)P.
.TP
.BR \-o " InumberP, " \-\-ntpversion "=" InumberP
Send BintP as our NTP version.
This option takes an integer number as its argument.
The value of InumberP is constrained to being:
.in +4
.nf
.na
in the range  0 through 7
.fi
.in -4
The default InumberP for this option is:
.ti +4
 4
.sp
When sending requests to a remote server, tell them we are running
NTP protocol version IntpversionP .
.TP
.BR \-r ", " -\-usereservedport
Use the NTP Reserved Port (port 123).
.sp
Use port 123, which is reserved for NTP, for our network
communications.
.TP
.BR \-S ", " -\-step
OK to 'step' the time with Bsettimeofday(2)P.
.sp
.TP
.BR \-s ", " -\-slew
OK to 'slew' the time with Badjtime(2)P.
.sp
.TP
.BR \-u " IsecondsP, " \-\-uctimeout "=" IsecondsP
The number of seconds to wait for unicast responses.
This option takes an integer number as its argument.
The default IsecondsP for this option is:
.ti +4
 5
.sp
When waiting for a unicast reply, BsntpP will wait the number
of seconds specified before giving up.
.TP
.BR \-\-wait, " B\-\-no\-waitP"
Wait for pending replies (if not setting the time).
The Ino\-waitP form will disable the option.
This option is enabled by default.
.sp
If we are not setting the time, wait for all pending responses.
.TP
.BR \-? , " \-\-help"
Display usage information and exit.
.TP
.BR \-! , " \-\-more-help"
Pass the extended usage information through a pager.
.TP
.BR \-> " [IrcfileP]," " \-\-save-opts" "[=IrcfileP]"
Save the option state to IrcfileP.  The default is the IlastP
configuration file listed in the BOPTION PRESETSP section, below.
.TP
.BR \-< " IrcfileP," " \-\-load-opts" "=IrcfileP," " \-\-no-load-opts"
Load options from IrcfileP.
The Ino-load-optsP form will disable the loading
of earlier RC/INI files.  I\-\-no-load-optsP is handled early,
out of order.
.TP
.BR \- " [{Iv|c|nP}]," " \-\-version" "[=I{v|c|n}P]"
Output version of program and exit.  The default mode is `v', a simple
version.  The `c' mode will print copyright information and `n' will
print the full copyright notice.
.SH "OPTION PRESETS"
Any option that is not marked as Inot presettableP may be preset
by loading values from configuration ("RC" or ".INI") file(s) and values from
environment variables named:
.nf
  BSNTP_<option-name>P or BSNTPP
.fi
.ad
The environmental presets take precedence (are processed later than)
the configuration files.
The IhomercP files are "I$HOMEP", and "I.P".
If any of these are directories, then the file I.ntprcP
is searched for within those directories.
.SH USAGE
.SH "ENVIRONMENT"
See BOPTION PRESETSP for configuration environment variables.
.SH "FILES"
See BOPTION PRESETSP for configuration files.
.SH "EXIT STATUS"
One of the following exit values will be returned:
.TP
.BR 0 " (EXIT_SUCCESS)"
Successful program execution.
.TP
.BR 1 " (EXIT_FAILURE)"
The operation failed or the command syntax was not valid.
.TP
.BR 66 " (EX_NOINPUT)"
A specified configuration file could not be loaded.
.TP
.BR 70 " (EX_SOFTWARE)"
libopts had an internal operational error.  Please report
it to autogen-users@lists.sourceforge.net.  Thank you.
.SH AUTHORS
.SH "COPYRIGHT"
Copyright (C) 1970-2012 The University of Delaware all rights reserved.
This program is released under the terms of the NTP license, <http://ntp.org/license>.
.SH BUGS
Please send bug reports to: http://bugs.ntp.org, bugs@ntp.org
.SH "NOTES"
This manual page was IAutoGenP-erated from the BsntpP
option definitions.
