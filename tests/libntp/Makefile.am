NULL =

check_PROGRAMS = tests

LDADD =					\
	@top_builddir@/libntp/libntp.a	\
	@LDADD_LIBNTP@			\
	@PTHREAD_LIBS@			\
	@LCRYPTO@			\
	@GTEST_LDFLAGS@			\
	@GTEST_LIBS@			\
	$(NULL)

AM_CFLAGS   = @CFLAGS_NTP@
AM_CXXFLAGS = @GTEST_CXXFLAGS@
AM_CPPFLAGS = @GTEST_CPPFLAGS@ @CPPFLAGS_NTP@

INCLUDES  = -I$(top_srcdir)/include
INCLUDES += -I$(top_srcdir)/lib/isc/include
INCLUDES += -I$(top_srcdir)/lib/isc/@LIBISC_PTHREADS_NOTHREADS@/include
INCLUDES += -I$(top_srcdir)/lib/isc/unix/include
INCLUDES += -I$(top_srcdir)/sntp

tests_SOURCES = $(top_srcdir)/sntp/tests_main.cpp	\
		libntptest.cpp		\
		a_md5encrypt.cpp	\
		atoint.cpp		\
		atouint.cpp		\
		authkeys.cpp		\
		buftvtots.cpp		\
		calendar.cpp		\
		caljulian.cpp		\
		caltontp.cpp		\
		calyearstart.cpp	\
		clocktime.cpp		\
		decodenetnum.cpp	\
		hextoint.cpp		\
		hextolfp.cpp		\
		humandate.cpp		\
		inttoa.cpp		\
		lfptostr.cpp		\
		modetoa.cpp		\
		msyslog.cpp		\
		netof.cpp		\
		numtoa.cpp		\
		numtohost.cpp		\
		octtoint.cpp		\
		prettydate.cpp		\
		recvbuff.cpp		\
		refnumtoa.cpp		\
		sfptostr.cpp		\
		socktoa.cpp		\
		ssl_init.cpp		\
		statestr.cpp		\
		strtolfp.cpp		\
		timespecops.cpp		\
		timestructs.cpp		\
		timevalops.cpp		\
		tsftomsu.cpp		\
		tstotv.cpp		\
		tvtots.cpp		\
		uglydate.cpp		\
		uinttoa.cpp		\
		ymd2yd.cpp		\
		$(NULL)

noinst_HEADERS =	lfptest.h	\
			libntptest.h	\
			sockaddrtest.h	\
			timestructs.h	\
			$(NULL)

TESTS =

if !NTP_CROSSCOMPILE
TESTS += tests
endif
